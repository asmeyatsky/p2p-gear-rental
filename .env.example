# Database Configuration
# PostgreSQL connection string with connection pooling parameters
# Format: postgresql://username:password@host:port/database?schema=public&connection_limit=20&pool_timeout=20
DATABASE_URL="postgresql://postgres:secretpassword@localhost:5432/gearshare?schema=public"

# Supabase Configuration
# Get these from your Supabase project settings: https://app.supabase.com/
NEXT_PUBLIC_SUPABASE_URL="https://your-project-id.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"
# Required for server-side messaging/conversation APIs
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# Stripe Configuration
# Get these from your Stripe dashboard: https://dashboard.stripe.com/
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"

# Application Configuration
NODE_ENV="development"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
# Set for staging deployments behind a load balancer (e.g. /gear-staging)
# NEXT_PUBLIC_BASE_PATH="/gear-staging"

# Redis Configuration (for caching and rate limiting)
REDIS_URL="redis://localhost:6379"

# Optional: Real-time Messaging (Pusher)
# Get these from your Pusher dashboard: https://dashboard.pusher.com/
# PUSHER_APP_ID="your-pusher-app-id"
# PUSHER_KEY="your-pusher-key"  
# PUSHER_SECRET="your-pusher-secret"
# PUSHER_CLUSTER="your-pusher-cluster"
# NEXT_PUBLIC_PUSHER_KEY="your-pusher-key"
# NEXT_PUBLIC_PUSHER_CLUSTER="your-pusher-cluster"

# Optional: Email Service (for notifications)
# SENDGRID_API_KEY="your-sendgrid-api-key"
# FROM_EMAIL="noreply@yourdomain.com"

# Optional: File Storage (Cloudinary)
# NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="your-cloud-name"
# CLOUDINARY_API_KEY="your-api-key"
# CLOUDINARY_API_SECRET="your-api-secret"

# Optional: Monitoring & Analytics
# SENTRY_DSN="your-sentry-dsn"
# GOOGLE_ANALYTICS_ID="GA-XXXXXXXXX"

# Security Configuration (CRITICAL - Generate strong random secrets)
# Generate secrets using: openssl rand -base64 32
JWT_SECRET="your-32-character-secret-key-here-generate-random"
NEXTAUTH_SECRET="another-32-character-secret-for-nextauth-random"
ENCRYPTION_KEY="32-character-encryption-key-for-data-encryption"

# Security Settings
BCRYPT_SALT_ROUNDS=12
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900000

# File Upload Security
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp"

# Content Security Policy (production)
CSP_REPORT_URI="https://your-domain.com/api/csp-report"

# Optional: Geographic Services (for location features)
# GOOGLE_MAPS_API_KEY="your-google-maps-api-key"

# Development/Testing Configuration
# Set to "true" to enable debug logging in development
DEBUG="false"

# Monitoring & Logging
LOG_LEVEL="INFO"
METRICS_API_TOKEN="monitoring-secret-token"

# Docker Configuration (for docker-compose)
POSTGRES_DB="gearshare"
POSTGRES_USER="postgres"  
POSTGRES_PASSWORD="secretpassword"

# Rate Limiting Configuration (optional overrides)
# RATE_LIMIT_GENERAL="100"
# RATE_LIMIT_AUTH="5" 
# RATE_LIMIT_SEARCH="200"
# RATE_LIMIT_UPLOAD="10"
# RATE_LIMIT_PAYMENT="10"